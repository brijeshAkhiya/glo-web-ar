<!DOCTYPE html>
<html>

  <head>
    <title>AR Based Web App</title>
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js"></script>
  </head>

  <!-- <body onload="checkQrCode()">
    <script src="./js/ajax.js">
    </script>
  </body> -->

  <body>
    <model-viewer id="x" src="./Astronaut Model/Astronaut.gltf" ar ar-modes="webxr scene-viewer quick-look"
      ar-scale="auto" camera-controls alt="A 3D model of an astronaut" ios-src="./Astronaut Model/Astronaut.usdz">
      <button id="ar" slot="ar-button"
        style="width: 50px; height: 50px; background-color: white; border-radius: 4px; border: none; position: absolute; top: 16px; right: 16px; ">
        ðŸ‘‹ Activate AR
      </button>
    </model-viewer>
    <pre id="log"></pre>
    <script>
      const model = document.querySelector('model-viewer');
      const button = document.getElementById('ar');
      button.addEventListener('click', () => {
        alert('clicked');
      });
      model.addEventListener('load', () => {
        button.click();
      })
      (function () {
    var old = console.log;
    var logger = document.getElementById('log');
    console.log = function () {
      for (var i = 0; i < arguments.length; i++) {
        if (typeof arguments[i] == 'object') {
            logger.innerHTML += (JSON && JSON.stringify ? JSON.stringify(arguments[i], undefined, 2) : arguments[i]) + '<br />';
        } else {
            logger.innerHTML += arguments[i] + '<br />';
        }
      }
    }
})();
      // document.body.addEventListener('load', () => {
      //   if (document.querySelector('button')){
      //   alert('Ar supported');
      //   console.log(document.getElementById('ar'));
      //   document.getElementById('ar').click();
      // }
      // else {
      //   alert('AR not supported');
      //   console.log(document.getElementById('ar'));
      //   // document.getElementById('ar').click();
      // }
      // })
    </script>
  </body>

</html>