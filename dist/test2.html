<!DOCTYPE html>
<html lang="en">

  <head>
    <title>Not Verified</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
      button {
        display: none;
      }
    </style>
    <!-- The following libraries and polyfills are recommended to maximize browser support -->
    <!-- NOTE: you must adjust the paths as appropriate for your project -->

    <!-- 游뚿 REQUIRED: Web Components polyfill to support Edge and Firefox < 63 -->
    <!--     <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.1.3/webcomponents-loader.js"></script> -->

    <!-- 游누 OPTIONAL: Intersection Observer polyfill for better performance in Safari and IE11 -->
        <!-- <script src="https://unpkg.com/intersection-observer@0.5.1/intersection-observer.js"></script> -->

    <!-- 游누 OPTIONAL: Resize Observer polyfill improves resize behavior in non-Chrome browsers -->
    <!--     <script src="https://unpkg.com/resize-observer-polyfill@1.5.0/dist/ResizeObserver.js"></script> -->

    <!-- 游누 OPTIONAL: The :focus-visible polyfill removes the focus ring for some input types -->
    <script src="https://unpkg.com/focus-visible@5.0.2/dist/focus-visible.js" defer></script>

  </head>

  <body>
    <div id="card">
      <!-- All you need to put beautiful, interactive 3D content on your site: -->
      <model-viewer src="./Not Verified_Bulb_Option.glb"
        ios-src="./Not Verified_Bulb_Option.usdz"
        alt="Result Not Verified" shadow-intensity="1" camera-controls auto-rotate ar>
        <button type="button" slot="ar-button"
          style="background-color: white; border-radius: 4px; border: none; position: absolute; top: 16px; right: 16px; ">
          游녦 Activate AR
        </button>
      </model-viewer>

    </div>
    <!-- 游누 Include both scripts below to support all browsers! -->

    <!-- Loads <model-viewer> for modern browsers: -->
    <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js">
    </script>

    <!-- Loads <model-viewer> for old browsers like IE11: -->
    <script nomodule src="https://unpkg.com/@google/model-viewer/dist/model-viewer-legacy.js">
    </script>
    <script>
      function getPlatform() {
          var platform = ["Android", "iOS"];

          if (navigator.userAgent.toLowerCase().indexOf('android') > -1) {
              return platform[0];
          } else {
              return platform[1];
          }
      }
      let counter = 0;
      document.querySelector('model-viewer').addEventListener('load', () => {
          document.querySelector('button').addEventListener('load', () => {
              counter = 1;
          });
          if (counter) {
              document.querySelector('button').click();
          } else {
              console.log(getPlatform());
              if (getPlatform() === 'Android') {
                  window.location.href =
                      'https://play.google.com/store/apps/details?id=com.google.ar.core&hl=en';
              } else {
                  alert('Ar not suuported');
              }
          }
      });
  </script>
  </body>

</html>